generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model client {
  id         String   @id @db.VarChar(32)
  add_tc     Int      @db.TinyInt
  updatedAt  DateTime @updatedAt @db.DateTime(0)
  pay_method Int
}

model gmail_msgs {
  thread_id    String @db.VarChar(16)
  inbox_msg_id String @db.VarChar(16)
  job_id       String @db.VarChar(32)
  direction    String @db.VarChar(32)
  job          job    @relation(fields: [job_id], references: [id], onDelete: Cascade, map: "gmail_msgs_job_primary")

  @@id([thread_id, inbox_msg_id, job_id])
  @@index([job_id], map: "gmail_msgs_job_primary")
}

model job {
  id         String       @id @db.VarChar(32)
  name       String       @db.VarChar(100)
  price      Decimal      @db.Decimal(10, 2)
  createdAt  DateTime     @db.DateTime(0)
  updatedAt  DateTime     @updatedAt @db.DateTime(0)
  client_id  String       @db.VarChar(32)
  type       String       @db.VarChar(100)
  status     String       @db.VarChar(100)
  vendor_id  String       @db.VarChar(32)
  gmail_msgs gmail_msgs[]
}

model purchase_order {
  id     Int    @id @default(autoincrement())
  job_id String @db.VarChar(32)

  @@index([job_id], map: "job_id")
}
